<!DOCTYPE html>
<html lang="ko">
<head>
<meta charset="utf-8">
<meta name="viewport" content="width=device-width, initial-scale=1, viewport-fit=cover">
<title>나만의 6주 운동 플래너</title>
<meta name="color-scheme" content="light dark">
<meta name="theme-color" content="#0f1115">
<meta name="apple-mobile-web-app-capable" content="yes">
<meta name="apple-mobile-web-app-status-bar-style" content="black-translucent">
<link rel="manifest" href="manifest.webmanifest">
<link rel="apple-touch-icon" href="icon-192.png">
<style>
:root{
  --safe-top: env(safe-area-inset-top);
  --safe-bottom: env(safe-area-inset-bottom);
  --tab-h: 48px;
  --bg:#0f1115; --surface:#171a21; --text:#e6e9ef; --muted:#9aa3b2; --border:#232736; --elev:rgba(0,0,0,.35);
  --accent:#66b2ff; --ok:#7bd88f; --warn:#f6c177; --danger:#ef7d7d; --chip-bg:#11151d; --chip-border:#2a3447; --kbd-bg:#0e121a; --kbd-border:#2a2f3f; --tab-bg:rgba(15,17,21,.9);
  --pastel-1:linear-gradient(135deg,#1b3045,#23364b); --pastel-2:linear-gradient(135deg,#3f2a29,#4a312b); --pastel-3:linear-gradient(135deg,#1d3b36,#1f423a); --pastel-4:linear-gradient(135deg,#2c2540,#342b4a); --cardText:#e9eef7;
}
@media (prefers-color-scheme: light){
  :root{
    --bg:#f7f8fb; --surface:#ffffff; --text:#0f1115; --muted:#5b6472; --border:#dfe3ea; --elev:rgba(0,0,0,.06);
    --accent:#2563eb; --ok:#22c55e; --warn:#f59e0b; --danger:#ef4444; --chip-bg:#eef2f8; --chip-border:#cfd6e3; --kbd-bg:#eef0f6; --kbd-border:#cfd6e3; --tab-bg:rgba(255,255,255,.9);
    --pastel-1:linear-gradient(135deg,#dfefff,#f2f7ff); --pastel-2:linear-gradient(135deg,#ffe2d8,#ffefdd); --pastel-3:linear-gradient(135deg,#d7f6ed,#f0fff7); --pastel-4:linear-gradient(135deg,#efe6ff,#fff4ff); --cardText:#0e1220;
  }
}
*{box-sizing:border-box} html,body{height:100%}
body{margin:0;background:var(--bg);color:var(--text);font-family:system-ui,-apple-system,Segoe UI,Roboto,Apple SD Gothic Neo,Malgun Gothic,Helvetica,Arial,sans-serif}
header{position:sticky;top:0;z-index:5;background:var(--tab-bg);border-bottom:1px solid var(--border);backdrop-filter:blur(8px);-webkit-backdrop-filter:blur(8px)}
header .wrap{display:flex;gap:12px;align-items:center;justify-content:space-between;max-width:980px;margin:0 auto;padding:calc(14px + var(--safe-top)) 16px 14px}
h1{font-size:20px;margin:0;font-weight:800;letter-spacing:.2px}
.container{max-width:980px;margin:18px auto 80px;padding:0 16px 40px}
.card{background:var(--surface);border:1px solid var(--border);border-radius:16px;padding:16px;box-shadow:0 4px 20px var(--elev)}
.row{display:flex;gap:8px;flex-wrap:wrap;align-items:center}
.small{font-size:12px;color:var(--muted)} .muted{color:var(--muted);font-size:12px}
.btn{border:0;background:var(--accent);color:#fff;padding:12px 16px;border-radius:999px;font-weight:800;cursor:pointer}
.btn.ghost{background:transparent;color:var(--text);border:1px solid var(--border)}
.tabs{position:fixed;left:0;right:0;bottom:0;background:var(--tab-bg);border-top:1px solid var(--border);display:grid;grid-template-columns:repeat(4,1fr);z-index:10;height:calc(var(--tab-h) + var(--safe-bottom));padding-bottom:var(--safe-bottom);box-sizing:content-box}
.tabbtn{padding:10px 6px;text-align:center;color:var(--muted);font-size:12px;border:none;background:transparent;cursor:pointer}
.tabbtn.active{color:var(--text);font-weight:700}
main{padding-bottom:calc(var(--tab-h) + 3px + var(--safe-bottom))}
main>section{display:none} main>section.active{display:block}
.work-grid{display:grid;grid-template-columns:repeat(auto-fill,minmax(210px,1fr));gap:16px}
.wc{border-radius:18px;padding:16px;display:flex;flex-direction:column;justify-content:space-between;min-height:140px;color:var(--cardText);box-shadow:0 12px 24px rgba(0,0,0,.25);border:1px solid color-mix(in oklab,var(--border) 80%, transparent)}
.wc .title{font-size:13px;font-weight:700;opacity:.9} .wc .name{font-size:20px;font-weight:900;margin-top:6px} .wc .meta{font-size:12px;opacity:.9;text-align:right;margin-top:12px}
.pastel-1{background:var(--pastel-1)} .pastel-2{background:var(--pastel-2)} .pastel-3{background:var(--pastel-3)} .pastel-4{background:var(--pastel-4)}
@media (display-mode: standalone){ :root{--tab-h:42px} main{padding-bottom:calc(var(--tab-h) + 0px + var(--safe-bottom))} .tabs{height:calc(var(--tab-h) + max(var(--safe-bottom),2px));padding-bottom:max(var(--safe-bottom),2px)} }
</style>
<script>
function applyThemeColor(){const dark=window.matchMedia('(prefers-color-scheme: dark)').matches;const t=document.querySelector('meta[name="theme-color"]');const a=document.querySelector('meta[name="apple-mobile-web-app-status-bar-style"]');if(t)t.setAttribute('content',dark?'#0f1115':'#f7f8fb');if(a)a.setAttribute('content',dark?'black-translucent':'default');}
applyThemeColor(); window.matchMedia('(prefers-color-scheme: dark)').addEventListener('change',applyThemeColor);
if(window.navigator.standalone===true){document.documentElement.classList.add('ios-standalone');}
</script>
</head>
<body>
<header><div class="wrap"><h1 id="titleBar">Workouts</h1><div class="row" style="max-width:520px"><button class="btn ghost" id="exportBtn">내보내기</button><input id="importInput" type="file" accept="application/json" style="display:none"><button class="btn ghost" id="importBtn">가져오기</button><button class="btn" style="background:#f6c177;color:#1a1208" id="resetBtn">초기화</button></div></div></header>
<main class="container">
<section id="tab-workouts" class="active"><div class="row" style="justify-content:space-between;align-items:center;margin-bottom:10px"><h2 style="margin:0">Workouts</h2><div class="small">시스템 테마에 맞춰 자동 전환</div></div><div class="work-grid" id="workGrid"></div><div style="text-align:center;margin-top:18px"><button class="btn ghost" id="toPlanBtn">ALL WORKOUTS</button></div></section>
<section id="tab-plan"><div class="card"><h2 style="margin-top:0">설정</h2><div class="row"><div style="flex:1 1 100%"><label class="small">종목</label><div id="exerciseChips"></div></div><div><label class="small">목표</label><input type="number" id="goal" min="1" value="50"></div><div><label class="small">최대</label><input type="number" id="maxRepTest" min="0" value="15"></div></div></div></section>
<section id="tab-stats"><div class="card"><h2 style="margin-top:0">기록</h2><table class="table" id="logTable"><thead><tr><th>날짜</th><th>종목</th><th>세트</th><th>목표</th><th>실행</th><th style="text-align:right">완료</th></tr></thead><tbody></tbody></table></div></section>
<section id="tab-settings"><div class="card"><h2 style="margin-top:0">설정</h2><div class="row"><button class="btn ghost" id="exportBtn2">데이터 내보내기</button><button class="btn ghost" id="importBtn2">데이터 가져오기</button></div><input id="importInput2" type="file" accept="application/json" style="display:none"></div></section>
</main>
<nav class="tabs"><button class="tabbtn active" data-tab="workouts">Workouts</button><button class="tabbtn" data-tab="plan">Plan</button><button class="tabbtn" data-tab="stats">Stats</button><button class="tabbtn" data-tab="settings">Settings</button></nav>
<script>
if("serviceWorker" in navigator){window.addEventListener("load",()=>navigator.serviceWorker.register("sw.js"));}
const $=(s,el=document)=>el.querySelector(s); const $$=(s,el=document)=>Array.from(el.querySelectorAll(s));
const todayKey=()=>new Date().toISOString().slice(0,10);
const defaultState={exercise:'푸시업',goal:50,maxRepTest:15,daysPerWeek:3,setsPerDay:5,restSec:60,startDate:todayKey(),plan:[],logs:[]};
let state=JSON.parse(localStorage.getItem('sixweek.state')||'null')||defaultState;
function save(){localStorage.setItem('sixweek.state',JSON.stringify(state));}
const EXERCISES=['푸시업','윗몸일으키기','스쿼트','풀업','딥스'];
const chips=$('#exerciseChips'),workGrid=$('#workGrid'),logTableBody=$('#logTable tbody');
function init(){ if(chips) chips.innerHTML=EXERCISES.map(x=>`<button class="btn ghost chip" data-x="${x}" style="padding:6px 10px">${x}</button>`).join(''); renderWorkouts(); renderLogs(); }
init();
function renderWorkouts(){ if(!workGrid) return; const cards=[]; let info='계획 필요',sub='목표 설정 후 계획 생성'; cards.push({cls:'pastel-1',title:info,name:state.exercise,meta:sub}); EXERCISES.filter(x=>x!==state.exercise).slice(0,3).forEach((ex,i)=>cards.push({cls:['pastel-2','pastel-3','pastel-4'][i%3],title:'다른 종목',name:ex,meta:'탭하여 현재 종목으로 전환'})); workGrid.innerHTML=cards.map(c=>`<div class="wc ${c.cls}" data-ex="${c.name}"><div><div class="title">${c.title}</div><div class="name">${c.name}</div></div><div class="meta">${c.meta}</div></div>`).join(''); $$('.wc',workGrid).forEach(el=>el.addEventListener('click',()=>{const ex=el.dataset.ex; if(ex&&ex!==state.exercise){state.exercise=ex;save();renderWorkouts();}})); }
function renderLogs(){ if(!logTableBody) return; logTableBody.innerHTML=''; }
document.querySelectorAll('.tabbtn').forEach(b=>b.addEventListener('click',()=>switchTab(b.dataset.tab)));
const sections={workouts:document.getElementById('tab-workouts'),plan:document.getElementById('tab-plan'),stats:document.getElementById('tab-stats'),settings:document.getElementById('tab-settings')};
function switchTab(name){ Object.entries(sections).forEach(([k,el])=>el?.classList.toggle('active',k===name)); document.querySelectorAll('.tabbtn').forEach(btn=>btn.classList.toggle('active',btn.dataset.tab===name)); window.scrollTo({top:0,behavior:'smooth'}); }
</script>
</body>
</html>
